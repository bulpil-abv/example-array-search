import unittest

from make_faces import *


class TestMakeFaces(unittest.TestCase):
    # two sections with 15 vertices each

    def test_make_faces_returns_list(self):
        section0 = [
            (0.0, 0.0, 5.0),
            (0.5, 0.0, 5.0),
            (1.0, 0.0, 4.5),
            (1.5, 0.0, 4.0),
            (2.0, 0.0, 3.0),
            (2.0, 0.0, 2.0),
            (2.0, 0.0, 1.0),
            (2.0, 0.0, 0.0),
            (2.0, 0.0, -1.0),
            (2.0, 0.0, -2.0),
            (2.0, 0.0, -3.0),
            (1.5, 0.0, -4.0),
            (1.0, 0.0, -4.5),
            (0.5, 0.0, -5.0),
            (0.0, 0.0, -5.0)]

        section1 = [
            (0.0, 1.0, 5.0),
            (0.5, 1.0, 5.0),
            (1.0, 1.0, 4.5),
            (1.5, 1.0, 4.0),
            (2.0, 1.0, 3.0),
            (2.0, 1.0, 2.0),
            (2.0, 1.0, 1.0),
            (2.0, 1.0, 0.0),
            (2.0, 1.0, -1.0),
            (2.0, 1.0, -2.0),
            (2.0, 1.0, -3.0),
            (1.5, 1.0, -4.0),
            (1.0, 1.0, -4.5),
            (0.5, 1.0, -5.0),
            (0.0, 1.0, -5.0)]
        expected = [
            (0, 1, 16, 15),
            (1, 2, 17, 16),
            (2, 3, 18, 17),
            (3, 4, 19, 18),
            (4, 5, 20, 19),
            (5, 6, 21, 20),
            (6, 7, 22, 21),
            (7, 8, 23, 22),
            (8, 9, 24, 23),
            (9, 10, 25, 24),
            (10, 11, 26, 25),
            (11, 12, 27, 26),
            (12, 13, 28, 27),
            (13, 14, 29, 28)]

        n = len(section0)
        actual = make_faces(n)

        self.assertEqual(actual, expected)


if __name__ == '__main__':
    unittest.main()
